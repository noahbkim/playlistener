<div class="windowless">
  <p>
    The playlistener Twitch integration allows chatters to queue songs to your Spotify account or add them to a preselected playlist.
    The bot includes bans, cooldowns, and live configuration for moderators and broadcasters.
  </p>
</div>
<div class="window layer2 theme-twitch">
  <div class="accent"></div>
  <div class="actual">
    <h2 class="header">Help</h2>
    <div class="content">
      <p>
        Viewer commands are accessible to subscribers and chatters based on configuration.
        They are fairly limited and are rate-limited.
      </p>
      <ul>
        <li><code>?queue</code> adds a song to the queue or selected playlist based on configuration.</li>
        <li><code>?playlist</code> links the configured playlist.</li>
        <li><code>?song</code> lists the current song the broadcaster is listening to.</li>
        <li><code>?recent</code> lists the last couple songs the broadcaster has listened to.</li>
        <li><code>?count</code> see how many songs you've queued.</li>
      </ul>
      <p>
        Admin commands are accessible to mods and, of course, you the streamer.
        The integration may be configured in real-time via the form below as well.
      </p>
      <ul>
        <li><code>?on</code> turn the bot on.</li>
        <li><code>?off</code> turn the bot off, preventing <code>?queue</code> from being used.</li>
        <li><code>?ban &lt;username&gt;</code> bans a user from queueing songs.</li>
        <li><code>?unban &lt;username&gt;</code> unbans a user from queueing songs.</li>
        <li><code>?cooldown &lt;username&gt; &lt;seconds&gt;</code> times a user out from queueing; <code>clear</code> to remove.</li>
        <li>
          <code>?config &lt;key&gt; [value]</code> query or set a config variable:
          <ul>
            <li><code>submode</code>: whether sub mode is <code>on</code> or <code>off</code>.</li>
            <li><code>usequeue</code>: whether queueing is <code>on</code> or <code>off</code>.</li>
            <li><code>useplaylist</code>: whether adding to the playlist is <code>on</code> or <code>off</code>.</li>
            <li><code>cooldown</code>: the number of seconds between chatteer queues.</li>
            <li><code>subcooldown</code>: the cooldown in seconds for subscribers.</li>
            <li><code>playlist</code>: url to the target playlist for adding songs; must be public.</li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="window layer2 theme-twitch">
  <div class="accent"></div>
  <div class="actual">
    <h2 class="header">Channel {{ form.instance.twitch_login }}</h2>
    <div class="content">
      <form class="clip">
{#            <form method="post" action="{% url "core:twitch_update" form.instance.pk %}">#}
        {% with form=twitch_integration_form %}
          {% csrf_token %}
          {% include "core/integrations/twitch/form.html" %}
        {% endwith %}
      </form>
    </div>
  </div>
</div>
